# Virtual File System & Management

这是操作系统的第三次课程设计项目，我开发的是一个基于 Vue 的文件管理系统和基于 NodeJS 的虚拟文件系统。

## 使用方式

1. 启动 server 端程序：

   ```shell
   # 在项目文件的根目录下输入：
   $ npm run server
   ```

2. 启动前端程序：

   ```shell
   # 在项目文件的根目录下输入：
   $ npm start
   # 脚本会打开系统默认浏览器加载程序
   # 如果没有自动打开浏览器，手动打开浏览器并加载项目根目录下的 index.html 即可
   ```

## 程序架构

程序由四个部分组成：

- 前端界面层：
  - 基于 Vue、ElementUI 和 es6
  - 手动管理数据状态
- 数据链接层：
  - 使用 HTTP 二进制字节流传输文件
  - 实现了简单的 MIME Parser，具备复杂的文件转码过程
  - **支持所有格式的文件**
- 虚拟文件系统层：
  - 在内存中开辟空间来模拟硬盘
  - 采用 FAT 来实现文件信息的储存
  - 采用红黑树来实现文件数据的储存
  - 空闲空间采用多级链表，保证先整体划分空间，再分开存储，充分利用系统缓存
  - 采用实时持久化系统，防止程序突然中止所造成的数据丢失，同时也保证了内存和硬盘上的数据一致性
- 数据持久化层：
  - 将文件从内存中的 Buffer 状态转码成相应的 type
  - 调用系统的接口将文件 **递归** 地写入硬盘，保证内存和硬盘上的拓扑一致性
  - 程序一启动就会将持久化的数据 **递归** 地读入内存

## 项目亮点

1. 结构清晰，层次划分明确
2. 页面简洁，实现了简单的过渡动画，交互较为友好
3. 支持所有类型的文件
4. 实现了硬盘和内存中数据和拓扑的一致性
5. 支持所有要求的文件操作
6. 实现了真实的文件储存

## 项目不足

1. 没有实现展示流媒体（IMG、MP3、MP4等）的交互功能
2. 暂不支持 copy 交互操作（但是后端接口已完成）
3. 为了实现真实读取、存储文件，不得不递归地调用 IO 函数，性能上有一定损耗



## LICENSE

#### MIT